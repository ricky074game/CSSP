var UBCMS=UBCMS||{};UBCMS.namespace=UBCMS.namespace||function(c){c=c.split(".");var e=UBCMS,h;"UBCMS"===c[0]&&(c=c.slice(1));for(h=0;h<c.length;h++)"undefined"===typeof e[c[h]]&&(e[c[h]]={}),e=e[c[h]];return e};
(function(c,e){function h(b,g,a){g.click(function(){b.toggleClass("expanded");var d=b.hasClass("expanded")?"true":"false";a.slideToggle("fast");g.attr("aria-expanded",d);d={version:b.text(),expanded:d};localStorage.setItem("ubcmsLongTermAlertToggleState",JSON.stringify(d))})}c.setupAlertBannerCollapsible=function(){var b=e(".long-term-alert-banner").last(),g=b.find("ul"),a=e(document.createElement("button"));a.attr("type","button");a.addClass("collapsible-toggle");a.attr("aria-haspopup","true");a.attr("aria-label",
"Long-Term Alert Banner Toggle Button");a.attr("id","long-term-alert-collapsible-toggle");a.attr("data-role","none");b.append(a);g.attr("aria-label","Long-Term Alert Banner Content");var d=JSON.parse(localStorage.getItem("ubcmsLongTermAlertToggleState"));(d&&d.version===b.text()?"true"===d.expanded:1)?(a.attr("aria-expanded","true"),b.addClass("expanded")):g.addClass("mobile-collapsed");h(b,a,g)};c.moveAlertBannerBeforePage=function(){var b=e("#page");b.get(0)||(b=e("body \x3e .root"));if(b.get(0)){var g=
e(".long-term-alert-banner");g.detach().insertBefore(b).wrap('\x3csection aria-label\x3d"UB Long-Term Alert"\x3e');g.addClass("ensure-z-top")}};c.init=function(){e(".long-term-alert-banner").length&&(c.setupAlertBannerCollapsible(),c.moveAlertBannerBeforePage())}})(UBCMS.namespace("longTermAlert"),jQuery);
(function(c,e,h,b){function g(a,d){a||(a=document.baseURI||document.location.href);if(d){if(/^[a-z][-+\.a-z0-9]*:/i.test(d))return d;if("//"===d.slice(0,2))return/^[^:]+:/.exec(a)[0]+d}else return a;var f=d.charAt(0);if("/"===f)return/^file:/i.test(a)?"file://"+d:/^[^:]+:\/*[^\/]+/i.exec(a)[0]+d;if("#"===f)return a.replace(/#.*$/,"")+d;if("?"===f)return a.replace(/[\?#].*$/,"")+d;/^file:/i.test(a)?(a="file://",f=a.replace(/^file:\/{0,2}/i,"")):(f=/^([^:]+:\/*[^\/]+)(\/.*?)?(\?.*?)?(#.*)?$/.exec(a),
a=f[1],f=f[2]||"/");f=f.split("/");f.pop();0===f.length&&f.push("");f.push(d);return a+f.join("/")}c.bannerUrl=e.bannerUrl||"https://www.buffalo.edu/content/shared/www/emergency/feeds/long-term-alert-banner.detail.html";c.cssUrl=e.cssUrl||"https://www.buffalo.edu/long-term-alert-banner.css";c.callback=e.callback;c.autoload=void 0===e.autoload?!0:e.autoload;c.load=function(){b.ajax({url:c.bannerUrl,dataType:"html",success:function(a){a=b("\x3cdiv\x3e").append(b.parseHTML(a)).find(".long-term-alert-banner");
a.length&&(a.find("a[href]").not('[href^\x3d"http:"],[href^\x3d"https:"],[href^\x3d"mailto:"],[href^\x3d"#"]').attr("href",function(d,f){return g(c.bannerUrl,f)}),0===b("#long-term-alert-banner-css").length&&(b("head").append("\x3cstyle\x3e.long-term-alert-banner { display: none }\x3c/style\x3e"),b('\x3clink id\x3d"long-term-alert-banner-css" rel\x3d"stylesheet"\x3e').attr("href",c.cssUrl).appendTo("head")),b(".long-term-alert-banner").length?b(".long-term-alert-banner").replaceWith(a):b("body").prepend(a),
b(".long-term-alert-banner").parent().is("section")||b(".long-term-alert-banner").wrap('\x3csection aria-label\x3d"UB Long-Term Alert"\x3e'),h.setupAlertBannerCollapsible(),e.loaded&&e.loaded(b(".long-term-alert-banner")))}})};c.autoload&&c.load()})(UBCMS.namespace("longTermAlert.external"),window.longTermAlertOptions||{},UBCMS.namespace("longTermAlert"),jQuery);